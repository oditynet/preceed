Утилита partman, которая используются для разбивки таргет носителя на партиции, может использовать либо готовые шаблоны разбивки, они же recipe,  например, atomic, home, multi, либо кастомные,  определяемые администратором.

Мы используем custom recipe, выделеные в отдельные файлы, которые подтягиваются по сети во время установки на этапе partman/early_command.

При работе с recipe важной особенностью является выставление т.н. лимитов (limits). Три числа означают следующее, слева направо: <minimal size>_<priority>_<maximal size>_<parted fs>. Число priority используется при вычислении конечного размера партиций.

Рекомендации по выбору значений priority:
1) для небольших партиций (около 1 Гб) выставлять равным или большим максимального значения,
2) для остальных случаев - выбирать между минимальным и максимальным числами.

Несколько подробнее можно почитать здесь: https://github.com/xobs/debian-installer/blob/master/doc/devel/partman-auto-recipe.txt

Важное замечание касательно синтаксиса: в случае встраивания recipe непосредственно в preseed, каждая строка, за исключением последней должна заканчиваться символом обратного слэша \ (см. https://www.debian.org/releases/buster/example-preseed.txt). В случае вынесения recipe в отдельный файл таковых символов не требуется. Точки в файле обязательны в обоих случаях.
